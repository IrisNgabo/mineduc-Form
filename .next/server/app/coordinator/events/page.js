(()=>{var e={};e.id=8109,e.ids=[8109],e.modules={550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9260:(e,t,s)=>{Promise.resolve().then(s.bind(s,83066)),Promise.resolve().then(s.bind(s,6931))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12117:(e,t,s)=>{Promise.resolve().then(s.bind(s,83866))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24934:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>n});var a=s(60687);s(43210);var r=s(8730),i=s(24224),l=s(96241);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:t,size:s,asChild:i=!1,...o}){let d=i?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,l.cn)(n({variant:t,size:s,className:e})),...o})}},25685:(e,t,s)=>{Promise.resolve().then(s.bind(s,78376))},27688:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),l=s.n(i),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d={children:["",{children:["coordinator",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83866)),"/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/events/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,49043)),"/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/events/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,60203)),"/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/ngabo/Documents/GitHub/mineduc-Form/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/events/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/coordinator/events/page",pathname:"/coordinator/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48730:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},49043:(e,t,s)=>{"use strict";function a(){return null}s.r(t),s.d(t,{default:()=>a})},55629:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>h,_2:()=>p,rI:()=>c,ty:()=>m});var a=s(60687),r=s(43210),i=s(26312),l=s(14952),n=s(13964),o=s(65822),d=s(96241);let c=i.bL,m=i.l9;i.YJ,i.ZL,i.Pb,i.z6,r.forwardRef(({className:e,inset:t,children:s,...r},n)=>(0,a.jsxs)(i.ZP,{ref:n,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,(0,a.jsx)(l.A,{className:"ml-auto h-4 w-4"})]})).displayName=i.ZP.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=i.G5.displayName;let h=r.forwardRef(({className:e,sideOffset:t=4,...s},r)=>(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:r,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));h.displayName=i.UC.displayName;let p=r.forwardRef(({className:e,inset:t,...s},r)=>(0,a.jsx)(i.q7,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));p.displayName=i.q7.displayName,r.forwardRef(({className:e,children:t,checked:s,...r},l)=>(0,a.jsxs)(i.H_,{ref:l,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),t]})).displayName=i.H_.displayName,r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.hN,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=i.hN.displayName,r.forwardRef(({className:e,inset:t,...s},r)=>(0,a.jsx)(i.JU,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s})).displayName=i.JU.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},58014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>o});var a=s(37413),r=s(44173),i=s.n(r),l=s(6931);s(82704);var n=s(83066);let o={title:"Rwanda FutureSkills Forum",description:"Easy Registration and event management"};function d({children:e}){return(0,a.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,a.jsx)("body",{className:i().className,children:(0,a.jsxs)(n.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!1,children:[e,(0,a.jsx)(l.Toaster,{position:"top-center",richColors:!0})]})})})}},60203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(37413),r=s(33007);function i({children:e}){return(0,a.jsx)(r.P,{userRole:"coordinator",children:e})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,t,s)=>{"use strict";s.d(t,{bq:()=>h,eb:()=>g,gC:()=>u,l6:()=>c,yv:()=>m});var a=s(60687),r=s(43210),i=s(22670),l=s(78272),n=s(3589),o=s(13964),d=s(96241);let c=i.bL;i.YJ;let m=i.WT,h=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=i.l9.displayName;let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=i.PP.displayName;let x=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let u=r.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(p,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(x,{})]})}));u.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let g=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]}));g.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},72812:(e,t,s)=>{Promise.resolve().then(s.bind(s,92892)),Promise.resolve().then(s.bind(s,52581))},78376:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(60687),r=s(43210),i=s(55192),l=s(24934),n=s(68988),o=s(55629),d=s(37826),c=s(63974),m=s(99270),h=s(96474),p=s(97992),x=s(40228),u=s(48730),g=s(550),f=s(93661),v=s(11860),j=s(10781),b=s(52581),N=s(46179),w=s(76869),y=s(60796);let k=[{label:"Green",value:"bg-green-500"},{label:"Blue",value:"bg-blue-500"},{label:"Red",value:"bg-red-500"}];function C(){let[e,t]=(0,r.useState)([]),[s,C]=(0,r.useState)(!1),[P,F]=(0,r.useState)(null),[E,$]=(0,r.useState)(""),[A,S]=(0,r.useState)({title:"",description:"",date:"",time:"",location:"",color:"blue",capacity:0,registered:0}),[B,T]=(0,r.useState)(!1),[z,D]=(0,r.useState)(!1),[R,_]=(0,r.useState)(!1),[G,L]=(0,r.useState)(!1),[U,I]=(0,r.useState)(1),[q,M]=(0,r.useState)([]),[H,W]=(0,r.useState)([]),[O,Y]=(0,r.useState)(!0),[V,J]=(0,r.useState)(null),Z=e.filter(e=>{if(!e)return!1;let t=E.toLowerCase();return(e.title?.toLowerCase()||"").includes(t)||(e.location?.toLowerCase()||"").includes(t)}),Q=e=>{F(e),T(!0)},X=e=>{F(e),S({title:e.title,description:e.description||"",date:e.date,time:e.time,location:e.location,color:e.color,capacity:e.capacity,registered:e.registered}),L(!0)},K=async s=>{try{let a=(0,N.gf)();if(!a){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let r=await fetch(`${y.f}/events/${s.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!r.ok){if(401===r.status){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let e=await r.json();throw Error(e.message||`Failed to delete event: ${r.status}`)}t(e.filter(e=>e.id!==s.id)),D(!1),F(null),b.o.success("Event deleted successfully!")}catch(e){console.error("Error deleting event:",e),b.o.error(e instanceof Error?e.message:"Failed to delete event")}},ee=e=>{let{name:t,value:s}=e.target;S(e=>({...e,[t]:s}))},et=e=>{S(t=>({...t,color:e}))},es=async(e,s)=>{try{let a=(0,N.gf)();if(!a){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}console.log("Removing workshop:",{eventId:e,workshopId:s});let r=await fetch(`${y.f}/events/${e}/workshops/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(console.log("Response status:",r.status),!r.ok){if(401===r.status){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let e=`Failed to remove workshop: ${r.status}`;try{let t=await r.json();e=t.message||e,console.error("Error response:",t)}catch(e){console.error("Error parsing error response:",e)}throw Error(e)}t(t=>t.map(t=>t.id===e?{...t,workshops:t.workshops?.filter(e=>e.id!==s)||[]}:t)),P?.id===e&&F(e=>e?{...e,workshops:e.workshops?.filter(e=>e.id!==s)||[]}:null),b.o.success("Workshop removed successfully!")}catch(e){console.error("Error removing workshop:",e),b.o.error(e instanceof Error?e.message:"Failed to remove workshop")}},ea=async()=>{try{let e=(0,N.gf)();if(!e){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}if(!A.title||!A.location||!A.date||!A.time)return void b.o.error("Please fill in all required fields");if(!A.date||!A.time)throw Error("Date and time are required");let[s,a,r]=A.date.split("-"),[i,l]=A.time.split(":"),n=new Date(Number.parseInt(s),Number.parseInt(a)-1,Number.parseInt(r),Number.parseInt(i),Number.parseInt(l)).toISOString(),o="blue";if(A.color){let e=A.color.match(/bg-([a-z]+)-/);e&&e[1]&&(o=e[1])}let d={name:A.title,venue:A.location,theme:o,schedule:n,description:A.description||"",capacity:A.capacity||0,registered:0};console.log("Submitting event data:",d);let c=await fetch(`${y.f}/events`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(!c.ok){if(401===c.status){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let e=await c.json();throw Error(e.message||`HTTP error! status: ${c.status}`)}let m=await c.json();console.log("Created event:",m);let h="bg-blue-500";if(m.theme){let e=m.theme.toLowerCase().trim();"red"===e||"green"===e||"blue"===e?h=`bg-${e}-500`:e.startsWith("bg-")&&(h=e)}let p={id:m.id,title:m.name,description:m.description,date:new Date(m.schedule).toISOString().split("T")[0],time:new Date(m.schedule).toTimeString().split(" ")[0].substring(0,5),location:m.venue,color:h,capacity:m.capacity,registered:m.registered,workshops:m.workshops||[]};t(e=>[...e,p]),_(!1),I(1),S({title:"",description:"",date:"",time:"",location:"",color:"bg-blue-500",capacity:0,registered:0}),b.o.success("Event created successfully!");let x=await fetch(`${y.f}/events/all-events`,{headers:{Authorization:`Bearer ${e}`}});if(x.ok){let e=(await x.json()).map(e=>{let t="bg-blue-500";if(e.theme){let s=e.theme.toLowerCase().trim();"red"===s||"green"===s||"blue"===s?t=`bg-${s}-500`:s.startsWith("bg-")&&(t=s)}return{id:e.id,title:e.name,description:e.description,date:new Date(e.schedule).toISOString().split("T")[0],time:new Date(e.schedule).toTimeString().split(" ")[0].substring(0,5),location:e.venue,color:t,capacity:e.capacity,registered:e.registered,workshops:e.workshops||[]}});t(e)}}catch(e){console.error("Error creating event:",e),b.o.error(e instanceof Error?e.message:"Failed to create event")}},er=async()=>{try{if(!P)return;let e=(0,N.gf)();if(!e){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}if(!A.date||!A.time)throw Error("Date and time are required");let[s,a,r]=A.date.split("-"),[i,l]=A.time.split(":"),n=new Date(Number.parseInt(s),Number.parseInt(a)-1,Number.parseInt(r),Number.parseInt(i),Number.parseInt(l)).toISOString(),o="blue";if(A.color){let e=A.color.match(/bg-([a-z]+)-/);e&&e[1]&&(o=e[1])}let d={name:A.title,venue:A.location,theme:o,schedule:n,description:A.description||"",capacity:A.capacity||0,isPublished:!0};console.log("Updating event with data:",d);let c=await fetch(`${y.f}/events/${P.id}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(!c.ok){if(401===c.status){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let e=await c.json();throw Error(e.message||`HTTP error! status: ${c.status}`)}let m=await c.json();console.log("Updated event response:",m);let h="bg-blue-500";if(m.theme){let e=m.theme.toLowerCase().trim();"red"===e||"green"===e||"blue"===e?h=`bg-${e}-500`:e.startsWith("bg-")&&(h=e)}let p={id:m.id,title:m.name,description:m.description||"",date:(0,w.GP)(new Date(m.schedule),"yyyy-MM-dd"),time:(0,w.GP)(new Date(m.schedule),"HH:mm"),location:m.venue,color:h,capacity:"string"==typeof m.capacity?Number.parseInt(m.capacity):m.capacity||0,registered:"string"==typeof m.registered?Number.parseInt(m.registered):m.registered||0,workshops:P.workshops||[]};t(e=>e.map(e=>e.id===P.id?p:e)),L(!1),S({title:"",description:"",date:"",time:"",location:"",color:"bg-blue-500",capacity:0,registered:0}),b.o.success("Event updated successfully!");let x=await fetch(`${y.f}/events/${P.id}/workshops`,{headers:{Authorization:`Bearer ${e}`}});if(x.ok){let e=(await x.json()).map(e=>({id:e.id,title:e.title,description:e.description||"",date:(0,w.GP)(new Date(e.schedule),"yyyy-MM-dd"),time:(0,w.GP)(new Date(e.schedule),"HH:mm"),location:e.venue,status:e.status||"Upcoming",capacity:e.capacity?.toString()||"0",registered:e.registered?.toString()||"0"}));t(t=>t.map(t=>t.id===P.id?{...t,workshops:e}:t))}}catch(e){console.error("Error updating event:",e),b.o.error(e instanceof Error?e.message:"Failed to update event")}},ei=async(e,s)=>{try{let a=(0,N.gf)();if(!a){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}console.log("Assigning workshop:",{eventId:e,workshopId:s});let r=await fetch(`${y.f}/workshops/${s}`,{headers:{Authorization:`Bearer ${a}`}});if(!r.ok)throw console.error("Failed to fetch workshop details:",r.status),Error("Failed to fetch workshop details");let i=await r.json();console.log("Workshop data:",i);let l=await fetch(`${y.f}/events/${e}/workshops/${s}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(console.log("Assignment response status:",l.status),!l.ok){if(401===l.status){b.o.error("Your session has expired. Please login again."),window.location.href="/login";return}let e=`Failed to assign workshop: ${l.status}`;try{let t=await l.json();console.error("Error response data:",t),t&&"object"==typeof t&&(e=t.message||e)}catch(e){console.error("Error parsing error response:",e)}throw Error(e)}let n="";try{i.date&&(n=(0,w.GP)(new Date(i.date),"yyyy-MM-dd"))}catch(e){console.error("Error formatting date:",e),n=i.date||""}let o={id:i.id,title:i.title,description:i.description||"",date:n,time:i.time||"",location:i.location||"",status:i.status||"Upcoming",capacity:i.capacity?.toString()||"0",registered:i.registered?.toString()||"0"};console.log("New workshop object:",o),t(t=>t.map(t=>{if(t.id===e){let e=t.workshops||[];if(!e.some(e=>e.id===s))return{...t,workshops:[...e,o]}}return t})),P?.id===e&&F(e=>{if(!e)return null;let t=e.workshops||[];return t.some(e=>e.id===s)?e:{...e,workshops:[...t,o]}}),b.o.success("Workshop assigned successfully!")}catch(e){console.error("Error in handleAssignWorkshop:",e),b.o.error(e instanceof Error?e.message:"Failed to assign workshop")}};return O?(0,a.jsx)("div",{className:"container mx-auto py-6",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#026FB4]"})})}):V?(0,a.jsx)("div",{className:"container mx-auto py-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Error Loading Events"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:V}),(0,a.jsx)(l.$,{onClick:()=>window.location.reload(),className:"bg-[#026FB4] hover:bg-[#025a91] text-white",children:"Retry"})]})}):(0,a.jsxs)("div",{className:"container mx-auto py-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Events"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your events and workshops"})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.p,{placeholder:"Search events...",value:E,onChange:e=>$(e.target.value),className:"pl-8 w-[300px]"})]})})]}),(0,a.jsxs)(i.Zp,{className:"mb-6",children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-[#026FB4]",children:"Events Management"}),(0,a.jsx)(i.BT,{children:"Manage all workshops and activities."})]}),(0,a.jsxs)(l.$,{onClick:()=>_(!0),className:"bg-[#026FB4] hover:bg-[#025a91] text-white",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Add Event"]})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"mb-6 flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.p,{placeholder:"Search Events...",className:"pl-8",value:E,onChange:e=>{$(e.target.value)}})]})}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,a.jsx)("thead",{className:"[&_tr]:border-b",children:(0,a.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium",children:"Events"}),(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium",children:"Location"}),(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium",children:"Date"}),(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium",children:"Time"}),(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium w-[250px]",children:"Workshops"}),(0,a.jsx)("th",{className:"h-14 px-4 text-left align-middle font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"[&_tr:last-child]:border-0",children:Z.map(e=>(0,a.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`h-6 w-6 rounded-full ${e.color}`}),(0,a.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{children:e.location})]})}),(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{children:e.date})]})}),(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("span",{children:e.time})]})}),(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-[120px]",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("span",{children:[e.workshops?.length||0," Workshops"]})]}),(0,a.jsx)(l.$,{size:"sm",className:"bg-[#026FB4] hover:bg-[#025a91] text-white",onClick:()=>{F(e),C(!0)},children:"Assign"})]})}),(0,a.jsx)("td",{className:"p-6 align-middle",children:(0,a.jsxs)(o.rI,{children:[(0,a.jsx)(o.ty,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"ghost",className:"h-9 w-9 p-0",children:(0,a.jsx)(f.A,{className:"h-5 w-5"})})}),(0,a.jsxs)(o.SQ,{align:"end",children:[(0,a.jsx)(o._2,{onClick:()=>Q(e),children:"View"}),(0,a.jsx)(o._2,{onClick:()=>X(e),children:"Edit"}),(0,a.jsx)(o._2,{onClick:()=>K(e),className:"text-red-600",children:"Remove"})]})]})})]},e.id))})]})})})]})]}),(0,a.jsx)(d.lG,{open:B,onOpenChange:T,children:(0,a.jsxs)(d.Cf,{className:"sm:max-w-[800px] p-0",children:[(0,a.jsx)(d.c7,{className:"p-6 pb-2 bg-[#026FB4] text-white rounded-t-lg",children:(0,a.jsx)(d.L3,{className:"text-2xl font-bold",children:"Event Details"})}),P&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,a.jsx)("div",{className:`h-16 w-16 rounded-full ${P.color} flex items-center justify-center`,children:(0,a.jsx)(x.A,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#026FB4]",children:P.title}),(0,a.jsxs)("p",{className:"text-lg text-muted-foreground",children:["Organized by ",P.location]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-[#026FB4]",children:"Location"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg",children:[(0,a.jsx)(p.A,{className:"h-6 w-6 text-[#026FB4]"}),(0,a.jsx)("p",{children:P.location})]})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-[#026FB4]",children:"Date & Time"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-lg",children:[(0,a.jsx)(x.A,{className:"h-6 w-6 text-[#026FB4]"}),(0,a.jsx)("p",{children:P.date})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-[#026FB4] mb-2",children:"Workshops"}),(0,a.jsx)("div",{className:"rounded-md border overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Title"}),(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Time"}),(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Location"}),(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Status"}),(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Capacity"}),(0,a.jsx)("th",{className:"h-12 px-6 text-left align-middle font-medium text-[#026FB4]",children:"Registered"})]})}),(0,a.jsx)("tbody",{children:P.workshops?.map((s,r)=>(0,a.jsxs)("tr",{className:"border-t border-gray-200 transition-colors hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"p-4 align-middle",children:[(0,a.jsx)("div",{className:"font-medium",children:s.title}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:s.description})]}),(0,a.jsx)("td",{className:"p-4 align-middle",children:s.date}),(0,a.jsx)("td",{className:"p-4 align-middle",children:s.location}),(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:s.status})}),(0,a.jsx)("td",{className:"p-4 align-middle text-center",children:s.capacity}),(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.p,{type:"number",className:"w-20 h-9 text-center",value:s.registered,onChange:s=>{let a=[...P.workshops];a[r]={...a[r],registered:s.target.value},t(e.map(e=>e.id===P.id?{...P,workshops:a}:e))}}),(0,a.jsxs)("span",{className:"text-sm whitespace-nowrap",children:["of ",s.capacity]})]})})]},r))})]})})]})]}),(0,a.jsx)(d.Es,{className:"p-6 pt-2 border-t",children:(0,a.jsx)(l.$,{onClick:()=>T(!1),className:"bg-[#026FB4] hover:bg-[#025a91] text-white px-8",children:"Close"})})]})}),(0,a.jsx)(j.W,{open:z,onClose:()=>D(!1),onConfirm:()=>K(P),title:"Remove Event",description:`Are you sure you want to remove ${P?.title}?`}),(0,a.jsx)(d.lG,{open:R,onOpenChange:e=>{_(e),e||I(1)},children:(0,a.jsxs)(d.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(d.c7,{children:[(0,a.jsx)(d.L3,{className:"text-[#026FB4]",children:"Add Events"}),(0,a.jsx)(d.rr,{children:"Fill in the following form to add an event"})]}),(0,a.jsxs)("div",{className:"relative mb-6 mt-2",children:[(0,a.jsx)("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 -translate-y-1/2 transform bg-gray-200"}),(0,a.jsxs)("div",{className:"relative flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:`z-10 flex h-6 w-6 items-center justify-center rounded-full ${U>=1?"bg-[#026FB4] text-white":"bg-gray-200"}`,children:"1"}),(0,a.jsx)("span",{className:"mt-2 text-xs",children:"Event Details"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:`z-10 flex h-6 w-6 items-center justify-center rounded-full ${U>=2?"bg-[#026FB4] text-white":"bg-gray-200"}`,children:"2"}),(0,a.jsx)("span",{className:"mt-2 text-xs",children:"Schedule Details"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:`z-10 flex h-6 w-6 items-center justify-center rounded-full ${U>=3?"bg-[#026FB4] text-white":"bg-gray-200"}`,children:"3"}),(0,a.jsx)("span",{className:"mt-2 text-xs",children:"Calendar & Venue Details"})]})]})]}),1===U&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"event-name",className:"text-sm font-medium",children:"Event name"}),(0,a.jsx)(n.p,{id:"event-name",name:"title",value:A.title,onChange:ee,placeholder:"Name"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"theme",className:"text-sm font-medium",children:"Theme"}),(0,a.jsxs)(c.l6,{value:A.color,onValueChange:et,children:[(0,a.jsx)(c.bq,{id:"theme",children:(0,a.jsx)(c.yv,{placeholder:"Select theme color"})}),(0,a.jsx)(c.gC,{children:k.map(e=>(0,a.jsx)(c.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-3 w-3 rounded-full ${e.value}`}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})]})]}),2===U&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"date",className:"text-sm font-medium",children:"Date"}),(0,a.jsx)(n.p,{id:"date",name:"date",type:"date",value:A.date,onChange:ee,placeholder:"Select date"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"time",className:"text-sm font-medium",children:"Time"}),(0,a.jsx)(n.p,{id:"time",name:"time",type:"time",value:A.time,onChange:ee,placeholder:"Select time"})]})]}),3===U&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"location",className:"text-sm font-medium",children:"Location"}),(0,a.jsx)(n.p,{id:"location",name:"location",value:A.location,onChange:ee,placeholder:"Enter location"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"capacity",className:"text-sm font-medium",children:"Capacity"}),(0,a.jsx)(n.p,{id:"capacity",name:"capacity",type:"number",value:A.capacity,onChange:ee,placeholder:"Enter capacity"})]})]}),(0,a.jsxs)(d.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),U<3?(0,a.jsx)(l.$,{onClick:()=>{I(e=>e+1)},className:"bg-[#026FB4] hover:bg-[#025a91]",children:"Next"}):(0,a.jsx)(l.$,{onClick:ea,className:"bg-[#026FB4] hover:bg-[#025a91]",children:"Add"})]})]})}),(0,a.jsx)(d.lG,{open:G,onOpenChange:L,children:(0,a.jsxs)(d.Cf,{className:"sm:max-w-[700px]",children:[(0,a.jsxs)(d.c7,{children:[(0,a.jsx)(d.L3,{className:"text-[#026FB4]",children:"Edit Event"}),(0,a.jsx)(d.rr,{children:"Update the event details"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"edit-name",className:"text-sm font-medium",children:"Event Name"}),(0,a.jsx)(n.p,{id:"edit-name",name:"title",value:A.title,onChange:ee,placeholder:"Enter event name"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"edit-theme",className:"text-sm font-medium",children:"Theme"}),(0,a.jsxs)(c.l6,{value:A.color,onValueChange:et,children:[(0,a.jsx)(c.bq,{id:"edit-theme",children:(0,a.jsx)(c.yv,{placeholder:"Select theme color"})}),(0,a.jsx)(c.gC,{children:k.map(e=>(0,a.jsx)(c.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-3 w-3 rounded-full ${e.value}`}),(0,a.jsx)("span",{children:e.label})]})},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"edit-location",className:"text-sm font-medium",children:"Location"}),(0,a.jsx)(n.p,{id:"edit-location",name:"location",value:A.location,onChange:ee,placeholder:"Enter location"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{htmlFor:"edit-workshops",className:"text-sm font-medium",children:"Assigned Workshops"}),P?.workshops&&P.workshops.length>0?(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,a.jsx)("thead",{className:"[&_tr]:border-b bg-gray-50",children:(0,a.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-[#026FB4]",children:"Title"}),(0,a.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-[#026FB4]",children:"Time"}),(0,a.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-[#026FB4]",children:"Location"}),(0,a.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-[#026FB4]",children:"Status"}),(0,a.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-[#026FB4]",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"[&_tr:last-child]:border-0",children:P.workshops.map(e=>(0,a.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:[(0,a.jsx)("td",{className:"p-3 align-middle",children:(0,a.jsx)("div",{className:"font-medium",children:e.title})}),(0,a.jsx)("td",{className:"p-3 align-middle",children:e.date}),(0,a.jsx)("td",{className:"p-3 align-middle",children:e.location}),(0,a.jsx)("td",{className:"p-3 align-middle",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:e.status})}),(0,a.jsx)("td",{className:"p-3 align-middle",children:(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{P&&es(P.id,e.id)},className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})})})]},e.id))})]})})}):(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"No workshops assigned yet."})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)(c.l6,{value:H.join(","),onValueChange:e=>{let t=e.split(",").filter(e=>""!==e);if(W(t),P){let e=Array.from(new Map(q.filter(e=>t.includes(e.id)).map(e=>{let t="";try{e.date&&(t=(0,w.GP)(new Date(e.date),"yyyy-MM-dd"))}catch(s){console.error("Error formatting date:",s),t=e.date||""}return{id:e.id,title:e.title,description:e.description||"",date:t,time:e.time||"",location:e.location||"",status:e.status||"Upcoming",capacity:e.capacity?.toString()||"0",registered:e.registered?.toString()||"0"}}).map(e=>[e.id,e])).values());F(t=>t?{...t,workshops:e}:null)}},children:[(0,a.jsx)(c.bq,{id:"edit-workshop-select",children:(0,a.jsx)(c.yv,{placeholder:"Select workshops"})}),(0,a.jsx)(c.gC,{children:q.filter(e=>!P?.workshops?.some(t=>t.id===e.id)).map(e=>(0,a.jsx)(c.eb,{value:e.id,children:e.title},e.id))})]}),(0,a.jsx)(l.$,{onClick:async()=>{if(P){for(let e of H)await ei(P.id,e);W([])}},className:"mt-2 w-full bg-[#026FB4] hover:bg-[#025a91]",children:"Assign Selected Workshops"})]})]}),(0,a.jsxs)(d.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),(0,a.jsx)(l.$,{onClick:er,className:"bg-[#026FB4] hover:bg-[#025a91]",children:"Update Event"})]})]})}),(0,a.jsx)(d.lG,{open:s,onOpenChange:C,children:(0,a.jsxs)(d.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(d.c7,{children:[(0,a.jsx)(d.L3,{children:"Assign Workshops"}),(0,a.jsx)(d.rr,{children:"Select workshops to assign to this event. You can select multiple workshops."})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"max-h-[300px] overflow-y-auto border rounded-md p-4",children:[q.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 py-2 hover:bg-gray-50 rounded-md px-2",children:[(0,a.jsx)("input",{type:"checkbox",id:e.id,checked:H.includes(e.id),onChange:t=>{t.target.checked?W([...H,e.id]):W(H.filter(t=>t!==e.id))},className:"h-4 w-4 rounded border-gray-300"}),(0,a.jsxs)("label",{htmlFor:e.id,className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[(0,a.jsxs)("span",{className:"mr-3",children:[e.date," at ",e.time]}),(0,a.jsx)("span",{children:e.location})]})]})]},e.id)),0===q.length&&(0,a.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No workshops available to assign."})]})}),(0,a.jsxs)(d.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{C(!1),W([])},children:"Cancel"}),(0,a.jsxs)(l.$,{onClick:async()=>{if(P){for(let e of H)await ei(P.id,e);C(!1),W([])}},disabled:0===H.length,className:"bg-[#026FB4] hover:bg-[#025a91] text-white",children:["Assign Selected Workshops (",H.length,")"]})]})]})})]})}},80488:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},82704:()=>{},83066:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ngabo/Documents/GitHub/mineduc-Form/components/theme-provider.tsx","ThemeProvider")},83866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/events/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ngabo/Documents/GitHub/mineduc-Form/app/coordinator/events/page.tsx","default")},92892:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>i});var a=s(60687),r=s(10218);function i({children:e,...t}){return(0,a.jsx)(r.N,{...t,children:e})}},96241:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(49384),r=s(82348);function i(...e){return(0,r.QP)((0,a.$)(e))}},97992:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9172,150,5814,3944,3323,8420,6052,8706,7895,8632,7343],()=>s(44631));module.exports=a})();