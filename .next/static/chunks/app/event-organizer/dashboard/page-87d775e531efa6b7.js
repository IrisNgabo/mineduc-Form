(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6878],{4842:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var a=s(95155),r=s(88482),l=s(12115),n=s(71007),i=s(17580),o=s(33109),c=s(92981),d=s(56671),m=s(6874),u=s.n(m),x=s(61204);function h(){let[e,t]=(0,l.useState)(null),[s,m]=(0,l.useState)(0),[h,f]=(0,l.useState)(0),[g,p]=(0,l.useState)(0),[j,v]=(0,l.useState)(!0),[N,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=(0,c.gf)();if(!e)return void console.error("No token found");let t=await fetch("".concat(x.f,"/users/all"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();m(s.length);let a=await fetch("".concat(x.f,"/delegates"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let r=await a.json();f(r.length);let l=await fetch("".concat(x.f,"/speakers/getAllSpeakers"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));let n=await l.json();p(n.length)}catch(e){console.error("Error fetching data:",e),d.o.error("Failed to load data")}finally{v(!1)}})()},[]);let w=s=>{t(s===e?null:s)},y=[{id:"system-users",title:"System Users",count:s,description:"Total users in the system",icon:(0,a.jsx)(n.A,{className:"h-6 w-6"}),href:"/event-organizer/dashboard",gradient:"from-blue-50 to-blue-100",iconBg:"bg-blue-500"},{id:"registered-delegates",title:"Registered Delegates",count:h,description:"Found in 8 workshops",icon:(0,a.jsx)(i.A,{className:"h-6 w-6"}),href:"/event-organizer/registrations",gradient:"from-cyan-50 to-cyan-100",iconBg:"bg-cyan-500"},{id:"speakers",title:"Speakers",count:g,description:"Present in 3 Events",icon:(0,a.jsx)(o.A,{className:"h-6 w-6"}),href:"/event-organizer/speakers",gradient:"from-indigo-50 to-indigo-100",iconBg:"bg-indigo-500"}];return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"inline-block w-1 h-6 bg-[#026FB4] mr-3 rounded-full"}),"Users Overview"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(t=>(0,a.jsx)(u(),{href:t.href,className:"block",children:(0,a.jsxs)(r.Zp,{className:"relative overflow-hidden h-full transition-all duration-300 ease-in-out\n                ".concat(e===t.id?"ring-2 ring-[#026FB4] shadow-lg":"shadow-md hover:shadow-lg","\n                ").concat(N===t.id?"translate-y-[-4px]":"","\n              "),onClick:()=>w(t.id),onMouseEnter:()=>b(t.id),onMouseLeave:()=>b(null),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(t.gradient," opacity-50 transition-opacity duration-300\n                  ").concat(e===t.id||N===t.id?"opacity-100":"opacity-50","\n                ")}),(0,a.jsxs)("div",{className:"relative p-6 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:t.title}),(0,a.jsx)("div",{className:"p-2.5 rounded-full ".concat(t.iconBg," text-white shadow-md"),children:t.icon})]}),j?(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-24 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-32"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-4xl font-bold text-gray-800 mb-1",children:t.count.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:t.description})]}),(0,a.jsxs)("div",{className:"mt-auto pt-4 text-xs font-medium text-[#026FB4] flex items-center transition-opacity duration-300\n                  ".concat(N===t.id?"opacity-100":"opacity-0","\n                "),children:["View details",(0,a.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},t.id))})]})}var f=s(69074),g=s(55670),p=s(9428),j=s(83540),v=s(41287),N=s(94754),b=s(96025),w=s(16238),y=s(94517),k=s(62341),S=s(83343),A=s(73168);let B=function(){var e,t;let[s,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(!0),[m,u]=(0,l.useState)(0);return(0,l.useEffect)(()=>{(async()=>{try{let e=(0,c.gf)();if(!e){console.error("No token found"),o(!1);return}let t=await fetch("".concat(x.f,"/delegates"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=await t.json();u(s.length);let a=s.reduce((e,t)=>{if(!t.registration_date)return e;let s=t.registration_date.split("T")[0];return e[s]||(e[s]=0),e[s]++,e},{}),r=Object.entries(a).map(e=>{let[t,s]=e,a=(0,S.H)(t);return{date:t,count:s,formattedDate:(0,A.GP)(a,"MMM dd")}}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());n(r)}catch(e){console.error("Error fetching delegates:",e),d.o.error("Failed to load delegate data")}finally{o(!1)}})()},[]),(0,a.jsxs)(r.Zp,{className:"w-full overflow-hidden bg-white shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2 border-b",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(r.ZB,{className:"text-base font-normal text-muted-foreground flex items-center",children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4 text-[#026FB4]"}),"Daily Registrations"]}),(0,a.jsx)(r.BT,{className:"text-2xl font-bold text-gray-800",children:i?(0,a.jsx)("div",{className:"h-8 w-24 bg-gray-200 animate-pulse rounded"}):"".concat(m," Delegates")})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-3 w-3 rounded-full bg-[#026FB4] mr-1"}),(0,a.jsx)("span",{children:"Registrations"})]})})]}),(0,a.jsxs)(r.Wu,{className:"pt-6",children:[i?(0,a.jsx)("div",{className:"h-[200px] w-full bg-gray-100 animate-pulse rounded-md flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"h-12 w-12 text-gray-300"})}):0===s.length?(0,a.jsx)("div",{className:"h-[200px] w-full bg-gray-50 rounded-md flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No registration data available"})}):(0,a.jsx)("div",{className:"h-[200px] relative",children:(0,a.jsx)(j.u,{width:"100%",height:"100%",children:(0,a.jsxs)(v.Q,{data:s,margin:{top:5,right:10,left:-20,bottom:0},children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"#026FB4",stopOpacity:.3}),(0,a.jsx)("stop",{offset:"95%",stopColor:"#026FB4",stopOpacity:.05})]})}),(0,a.jsx)(N.d,{vertical:!1,stroke:"#f0f0f0",strokeDasharray:"3 3"}),(0,a.jsx)(b.W,{dataKey:"formattedDate",axisLine:!1,tickLine:!1,tickMargin:10,tick:{fontSize:12,fill:"#888"}}),(0,a.jsx)(w.h,{axisLine:!1,tickLine:!1,tickMargin:10,tick:{fontSize:12,fill:"#888"},tickCount:5}),(0,a.jsx)(y.m,{cursor:!1,content:e=>{let{active:t,payload:s}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"rounded-lg bg-black/80 p-2 text-xs text-white shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-3 w-3 fill-[#026FB4] text-[#026FB4]"}),(0,a.jsx)("span",{children:"Registrations"})]}),(0,a.jsxs)("div",{className:"mt-1 font-medium",children:[s[0].payload.formattedDate,": ",s[0].value," delegates"]})]}):null}}),(0,a.jsx)(k.G,{type:"monotone",dataKey:"count",stroke:"#026FB4",strokeWidth:2,fill:"url(#colorRegistrations)",dot:!1,activeDot:{r:6,style:{fill:"#fff",stroke:"#026FB4",strokeWidth:2}}})]})})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center text-xs text-gray-500 pt-2 border-t",children:[(0,a.jsx)("div",{children:s.length>0&&(0,a.jsxs)("span",{children:["First registration: ",null==(e=s[0])?void 0:e.formattedDate]})}),(0,a.jsx)("div",{children:s.length>0&&(0,a.jsxs)("span",{children:["Latest registration: ",null==(t=s[s.length-1])?void 0:t.formattedDate]})})]})]})]})};var E=s(23227),z=s(13717);function F(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(0),[n,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)(null);return((0,l.useEffect)(()=>{(async()=>{try{i(!0),d(null);let e=(0,c.gf)();if(!e)return void d("Your session has expired. Please login again.");let s=await fetch("".concat(x.f,"/workshops"),{headers:{Authorization:"Bearer ".concat(e),accept:"*/*"}});if(!s.ok){if(401===s.status)return void d("Your session has expired. Please login again.");throw Error("Failed to fetch workshops")}let a=await s.json();r(a.length);let l=await Promise.all(a.map(async t=>{try{let s=await fetch("".concat(x.f,"/delegates/by-workshops?ids=").concat(t.id),{headers:{Authorization:"Bearer ".concat(e),accept:"*/*"}});if(!s.ok)throw Error("Failed to fetch delegates for workshop ".concat(t.id));let a=(await s.json()).length,r=Math.round(a/100*100),l="success";return r<50?l="error":r<75&&(l="warning"),{id:t.id,name:t.title,percentage:r,status:l,count:a}}catch(e){return console.error("Error fetching delegates for workshop ".concat(t.id,":"),e),{id:t.id,name:t.title,percentage:0,status:"error",count:0}}}));t(l)}catch(e){console.error("Error fetching workshops:",e),d("Unable to connect to the server. Please check your connection or try again later.")}finally{i(!1)}})()},[]),n)?(0,a.jsx)("div",{children:"Loading..."}):o?(0,a.jsx)("div",{className:"text-red-500",children:o}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 w-full",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl border p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,a.jsx)(E.A,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Workshops"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:s}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"in 1 Event"})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-2 bg-white rounded-xl border p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg",children:(0,a.jsx)(z.A,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Applications per Workshop"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(e=>(0,a.jsx)("div",{className:"rounded-lg p-4 transition-all hover:shadow-md ".concat("success"===e.status?"bg-green-50":"warning"===e.status?"bg-yellow-50":"bg-red-50"),children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.count}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1",children:e.name})]})},e.id))})]})})]})}var D=s(40646),T=s(85339),L=s(1243),_=s(72713),R=s(4516);let P=()=>{let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(!0),[n,m]=(0,l.useState)(null),[u,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=(0,c.gf)();if(!e){console.error("No token found"),m("Authentication token not found"),r(!1);return}let s=await fetch("".concat(x.f,"/workshops"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();t(a)}catch(e){console.error("Error fetching workshops:",e),m("Failed to load workshop data"),d.o.error("Failed to load workshop data")}finally{r(!1)}})()},[]);let g=e=>e>=75?"from-emerald-500 to-emerald-400":e>=50?"from-blue-500 to-blue-400":e>=25?"from-amber-500 to-amber-400":"from-rose-500 to-rose-400",p=e=>e>=75?(0,a.jsx)(D.A,{className:"h-5 w-5 text-emerald-500"}):e>=50?(0,a.jsx)(i.A,{className:"h-5 w-5 text-blue-500"}):e>=25?(0,a.jsx)(T.A,{className:"h-5 w-5 text-amber-500"}):(0,a.jsx)(L.A,{className:"h-5 w-5 text-rose-500"}),j=e=>{let t=e.match(/^WS\d+\s(.+)/);return t?t[1]:e},v=[...e].sort((e,t)=>{let s=e.registered/e.capacity*100;return t.registered/t.capacity*100-s}),N=e.reduce((e,t)=>e+t.registered,0),b=e.reduce((e,t)=>e+t.capacity,0),w=b>0?Math.round(N/b*100):0;return(0,a.jsx)("div",{className:"bg-white rounded-xl border p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-base font-medium flex items-center text-gray-800",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 mr-2 text-[#026FB4]"}),"Workshop Registration"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Registration rates across all workshops"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Overall"}),(0,a.jsxs)("div",{className:"text-sm font-semibold",children:[w,"%"]})]}),(0,a.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-gray-50 border",children:(0,a.jsx)(o.A,{className:"h-5 w-5 text-[#026FB4]"})})]})]}),s?(0,a.jsx)("div",{className:"space-y-5",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"space-y-2 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded w-40"}),(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded w-16"})]}),(0,a.jsx)("div",{className:"h-3 w-full rounded-full bg-gray-100"})]},e))}):n?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 text-rose-500 gap-2",children:[(0,a.jsx)(L.A,{className:"h-8 w-8"}),(0,a.jsx)("p",{children:n})]}):(0,a.jsx)("div",{className:"space-y-5 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:v.map(e=>{let t=Math.round(e.registered/e.capacity*100),s=u===e.id;return(0,a.jsxs)("div",{className:"space-y-2 group",onMouseEnter:()=>h(e.id),onMouseLeave:()=>h(null),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[p(t),(0,a.jsx)("span",{className:"text-sm font-medium truncate max-w-[180px] group-hover:text-[#026FB4] transition-colors duration-200",children:j(e.title)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded-full",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[e.registered,"/",e.capacity]}),(0,a.jsxs)("span",{className:"text-xs font-medium ".concat(t>=75?"text-emerald-600":t>=50?"text-blue-600":t>=25?"text-amber-600":"text-rose-600"),children:["(",t,"%)"]})]})]}),(0,a.jsx)("div",{className:"h-3 w-full rounded-full bg-gray-100 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ease-out bg-gradient-to-r ".concat(g(t)),style:{width:"".concat(t,"%"),boxShadow:t>50?"inset 0 -1px 0 rgba(0,0,0,0.15)":"none"}})}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-3 transition-all duration-300 ".concat(s?"opacity-100 max-h-10":"opacity-0 max-h-0 overflow-hidden"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-gray-400"}),new Date(e.schedule).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(R.A,{className:"h-3 w-3 text-gray-400"}),e.venue]})]})]},e.id)})}),!s&&!n&&e.length>0&&(0,a.jsxs)("div",{className:"pt-3 border-t flex justify-between items-center text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),(0,a.jsx)("span",{children:"High (≥75%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),(0,a.jsx)("span",{children:"Medium (≥50%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),(0,a.jsx)("span",{children:"Low (≥25%)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-rose-500"}),"\\",(0,a.jsx)("span",{children:"Very Low (<25%)"})]})]})]})})},I=()=>(0,a.jsxs)("div",{className:"space-y-4 p-6",children:[(0,a.jsx)(h,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(B,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(P,{})})]}),(0,a.jsx)(F,{})]}),M=()=>(0,a.jsx)(I,{});var C=s(87620);function W(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Welcome\uD83D\uDC4B, John"}),(0,a.jsx)(C.F,{})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(r.Zp,{children:(0,a.jsx)(r.Wu,{children:(0,a.jsx)(M,{})})})})]})}},53999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(52596),r=s(39688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},61204:(e,t,s)=>{"use strict";s.d(t,{f:()=>a});let a="https://api.rwandafutureskillsforum.rtbdev.online"},67133:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>u,_2:()=>x,rI:()=>d,ty:()=>m});var a=s(95155),r=s(12115),l=s(48698),n=s(13052),i=s(5196),o=s(9428),c=s(53999);let d=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:i,...o}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...o,children:[i,(0,a.jsx)(n.A,{className:"ml-auto h-4 w-4"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.G5.displayName;let u=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});u.displayName=l.UC.displayName;let x=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});x.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...o}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=l.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},68054:(e,t,s)=>{Promise.resolve().then(s.bind(s,4842))},69663:(e,t,s)=>{"use strict";s.d(t,{BK:()=>i,eu:()=>n,q5:()=>o});var a=s(95155);s(12115);var r=s(85977),l=s(53999);function n(e){let{className:t,...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,l.cn)("aspect-square size-full",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},87620:(e,t,s)=>{"use strict";s.d(t,{F:()=>u});var a=s(95155),r=s(12115),l=s(66474),n=s(34835),i=s(69663),o=s(97168),c=s(67133),d=s(56671),m=s(35695);function u(e){let{avatarUrl:t}=e,s=(0,m.useRouter)(),[u,x]=(0,r.useState)({});(0,r.useEffect)(()=>{try{let e=localStorage.getItem("userData");if(e){let t=JSON.parse(e);x(t)}else{let e=localStorage.getItem("token");e&&fetch("http://197.243.26.64:3037/auth/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{x(e),localStorage.setItem("userData",JSON.stringify(e))}).catch(e=>{console.error("Error fetching user data:",e)})}}catch(e){console.error("Error parsing user data:",e)}},[]);let h=()=>u.firstName&&u.lastName?"".concat(u.firstName," ").concat(u.lastName):u.firstName?u.firstName:u.email?u.email.split("@")[0]:"User";return(0,a.jsxs)(c.rI,{children:[(0,a.jsx)(c.ty,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex cursor-pointer items-center gap-2",children:[(0,a.jsx)(i.eu,{className:"h-8 w-8 sm:h-10 sm:w-10 border border-blue-100",children:t?(0,a.jsx)(i.BK,{src:t||"/placeholder.svg",alt:h(),className:"object-cover"}):(0,a.jsx)(i.q5,{className:"bg-blue-100 text-blue-800 text-sm sm:text-base",children:u.firstName&&u.lastName?"".concat(u.firstName[0]).concat(u.lastName[0]):u.firstName?u.firstName[0]:u.email?u.email[0].toUpperCase():"U"})}),(0,a.jsxs)("div",{className:"flex flex-col sm:hidden",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:h()}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:u.role||"User"})]}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",className:"ml-1 h-8 w-8 sm:h-10 sm:w-10",children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(c.SQ,{align:"end",className:"w-56 p-1",children:(0,a.jsxs)(c._2,{className:"flex cursor-pointer items-center gap-2 p-2 text-red-500",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("access"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userData"),d.o.success("Logged out successfully"),s.push("/login")},children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Logout"})]})})]})}},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>n});var a=s(95155);s(12115);var r=s(53999);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},92981:(e,t,s)=>{"use strict";s.d(t,{G6:()=>d,WG:()=>i,fE:()=>o,gf:()=>l,ve:()=>n,zu:()=>c});let a="access",r="refresh_token",l=()=>localStorage.getItem(a),n=()=>localStorage.getItem(r),i=e=>{localStorage.setItem(a,e)},o=e=>{localStorage.setItem(r,e)},c=()=>{localStorage.removeItem(a),localStorage.removeItem(r)},d=()=>{let e=l();if(!e)return!1;try{let t=JSON.parse(atob(e.split(".")[1])),s=1e3*t.exp;return Date.now()<s}catch(e){return console.error("Error checking token validity:",e),!1}}},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>i});var a=s(95155);s(12115);var r=s(99708),l=s(74466),n=s(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:s,size:l,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(i({variant:s,size:l,className:t})),...c})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2848,6671,1478,5364,8698,6874,3363,7260,5490,8441,1684,7358],()=>t(68054)),_N_E=e.O()}]);