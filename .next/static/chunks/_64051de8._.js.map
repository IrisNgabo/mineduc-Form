{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cn } from \"@/lib/utils\"\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n      className\n    )}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  useFormState,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn(\"grid gap-2\", className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn(\"data-[error=true]:text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn(\"text-destructive text-sm\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/utils/token.ts"],"sourcesContent":["export const TOKEN_KEY = 'access';\nexport const REFRESH_TOKEN_KEY = 'refresh_token';\n\nexport const getToken = (): string | null => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem(TOKEN_KEY);\n    console.log('Token:', TOKEN_KEY);\n  }\n  return null;\n};\n\nexport const getRefreshToken = (): string | null => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem(REFRESH_TOKEN_KEY);\n  }\n  return null;\n};\n\nexport const setToken = (token: string): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(TOKEN_KEY, token);\n  }\n};\n\nexport const setRefreshToken = (token: string): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(REFRESH_TOKEN_KEY, token);\n  }\n};\n\nexport const removeTokens = (): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(TOKEN_KEY);\n    localStorage.removeItem(REFRESH_TOKEN_KEY);\n  }\n};\n\nexport const isTokenValid = (): boolean => {\n  const token = getToken();\n  if (!token) return false;\n  \n  try {\n    // Check if token is expired\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    const expirationTime = payload.exp * 1000; // Convert to milliseconds\n    return Date.now() < expirationTime;\n  } catch (error) {\n    console.error('Error checking token validity:', error);\n    return false;\n  }\n};\n\nexport const refreshToken = async (): Promise<boolean> => {\n  const refreshToken = getRefreshToken();\n  if (!refreshToken) return false;\n\n  try {\n    const response = await fetch('http://197.243.26.64:3037/auth/refresh', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${refreshToken}`,\n      },\n    });\n\n    if (response.ok) {\n      const data = await response.json();\n      if (data.token) {\n        setToken(data.token);\n        if (data.refreshToken) {\n          setRefreshToken(data.refreshToken);\n        }\n        return true;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('Error refreshing token:', error);\n    return false;\n  }\n};\n\nexport const getValidToken = async (): Promise<string | null> => {\n  const token = getToken();\n  \n  if (token && isTokenValid()) {\n    return token;\n  }\n\n  // Try to refresh the token\n  const refreshed = await refreshToken();\n  if (refreshed) {\n    return getToken();\n  }\n\n  // If refresh fails, clear tokens and return null\n  removeTokens();\n  return null;\n}; "],"names":[],"mappings":";;;;;;;;;;;;AAAO,MAAM,YAAY;AAClB,MAAM,oBAAoB;AAE1B,MAAM,WAAW;IACtB,wCAAmC;QACjC,OAAO,aAAa,OAAO,CAAC;;IAE9B;;AAEF;AAEO,MAAM,kBAAkB;IAC7B,wCAAmC;QACjC,OAAO,aAAa,OAAO,CAAC;IAC9B;;AAEF;AAEO,MAAM,WAAW,CAAC;IACvB,wCAAmC;QACjC,aAAa,OAAO,CAAC,WAAW;IAClC;AACF;AAEO,MAAM,kBAAkB,CAAC;IAC9B,wCAAmC;QACjC,aAAa,OAAO,CAAC,mBAAmB;IAC1C;AACF;AAEO,MAAM,eAAe;IAC1B,wCAAmC;QACjC,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;AACF;AAEO,MAAM,eAAe;IAC1B,MAAM,QAAQ;IACd,IAAI,CAAC,OAAO,OAAO;IAEnB,IAAI;QACF,4BAA4B;QAC5B,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;QACnD,MAAM,iBAAiB,QAAQ,GAAG,GAAG,MAAM,0BAA0B;QACrE,OAAO,KAAK,GAAG,KAAK;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;IACT;AACF;AAEO,MAAM,eAAe;IAC1B,MAAM,eAAe;IACrB,IAAI,CAAC,cAAc,OAAO;IAE1B,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,0CAA0C;YACrE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB,CAAC,OAAO,EAAE,cAAc;YAC3C;QACF;QAEA,IAAI,SAAS,EAAE,EAAE;YACf,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;gBACnB,IAAI,KAAK,YAAY,EAAE;oBACrB,gBAAgB,KAAK,YAAY;gBACnC;gBACA,OAAO;YACT;QACF;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACF;AAEO,MAAM,gBAAgB;IAC3B,MAAM,QAAQ;IAEd,IAAI,SAAS,gBAAgB;QAC3B,OAAO;IACT;IAEA,2BAA2B;IAC3B,MAAM,YAAY,MAAM;IACxB,IAAI,WAAW;QACb,OAAO;IACT;IAEA,iDAAiD;IACjD;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 402, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/utils/session.ts"],"sourcesContent":["import { getToken, getRefreshToken, setToken, setRefreshToken, removeTokens, isTokenValid } from './token';\n\nexport interface UserSession {\n  token: string | null;\n  refreshToken: string | null;\n  isAuthenticated: boolean;\n  user?: {\n    id: string;\n    email: string;\n    role: string;\n  };\n}\n\nclass SessionManager {\n  private static instance: SessionManager;\n  private session: UserSession;\n\n  private constructor() {\n    this.session = {\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n    };\n    this.initialize();\n  }\n\n  public static getInstance(): SessionManager {\n    if (!SessionManager.instance) {\n      SessionManager.instance = new SessionManager();\n    }\n    return SessionManager.instance;\n  }\n\n  private initialize() {\n    const token = getToken();\n    const refreshToken = getRefreshToken();\n    \n    if (token && isTokenValid()) {\n      this.session = {\n        token,\n        refreshToken,\n        isAuthenticated: true,\n        user: this.decodeToken(token),\n      };\n    }\n  }\n\n  private decodeToken(token: string) {\n    try {\n      // Split the token into parts\n      const parts = token.split('.');\n      if (parts.length !== 3) {\n        console.error('Invalid token format');\n        return undefined;\n      }\n\n      // Decode the payload (second part)\n      const payload = JSON.parse(atob(parts[1].replace(/-/g, '+').replace(/_/g, '/')));\n      console.log('Decoded token payload:', payload);\n      \n      // Extract user information from the payload\n      const roles = payload.roles || [];\n      const role = roles.length > 0 ? roles[0].role_name : 'USER';\n      \n      return {\n        id: payload.id,\n        email: payload.email,\n        role: role,\n      };\n    } catch (error) {\n      console.error('Error decoding token:', error);\n      return undefined;\n    }\n  }\n\n  public getSession(): UserSession {\n    return this.session;\n  }\n\n  public async setSession(token: string, refreshToken?: string) {\n    try {\n      // Store tokens\n      setToken(token);\n      if (refreshToken) {\n        setRefreshToken(refreshToken);\n      }\n\n      // Decode token and get user info\n      const user = this.decodeToken(token);\n      if (!user) {\n        throw new Error('Invalid token format');\n      }\n\n      // Update session\n      this.session = {\n        token,\n        refreshToken: refreshToken || this.session.refreshToken,\n        isAuthenticated: true,\n        user,\n      };\n\n      console.log('Session updated:', this.session);\n    } catch (error) {\n      console.error('Error setting session:', error);\n      this.clearSession();\n      throw error;\n    }\n  }\n\n  public clearSession() {\n    removeTokens();\n    this.session = {\n      token: null,\n      refreshToken: null,\n      isAuthenticated: false,\n    };\n  }\n\n  public isAuthenticated(): boolean {\n    const token = getToken();\n    if (!token) return false;\n    \n    try {\n      const parts = token.split('.');\n      if (parts.length !== 3) return false;\n      \n      const payload = JSON.parse(atob(parts[1].replace(/-/g, '+').replace(/_/g, '/')));\n      const expirationTime = payload.exp * 1000;\n      return Date.now() < expirationTime;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  public getUser() {\n    return this.session.user;\n  }\n}\n\nexport const sessionManager = SessionManager.getInstance(); "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/lib/config.ts"],"sourcesContent":["// Backend URL configuration\nexport const BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL;\n\n// Helper function to construct API endpoints\nexport const getApiUrl = (endpoint: string) => {\n  return `${BACKEND_URL}${endpoint.startsWith('/') ? endpoint : `/${endpoint}`}`;\n}; "],"names":[],"mappings":"AAAA,4BAA4B;;;;;AACD;AAApB,MAAM;AAGN,MAAM,YAAY,CAAC;IACxB,OAAO,GAAG,cAAc,SAAS,UAAU,CAAC,OAAO,WAAW,CAAC,CAAC,EAAE,UAAU,EAAE;AAChF","debugId":null}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Users/ngabo/Documents/GitHub/mineduc-Form/components/auth/login-page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\nimport { EyeOff, Eye, ArrowLeft } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { useForm } from \"react-hook-form\"\nimport { z } from \"zod\"\nimport axios from \"axios\"\nimport { useRouter } from \"next/navigation\"\nimport { toast } from \"sonner\"\nimport { Form, FormControl, FormField, FormItem, FormMessage } from \"@/components/ui/form\"\nimport { sessionManager } from \"@/utils/session\"\nimport { BACKEND_URL } from \"@/lib/config\"\n\n// Define the form schema with zod\nconst formSchema = z.object({\n  email: z.string().email({\n    message: \"Please enter a valid email address\",\n  }),\n  password: z.string().min(6, {\n    message: \"Password must be at least 6 characters\",\n  }),\n})\n\ntype FormValues = z.infer<typeof formSchema>\n\nexport default function LoginPage() {\n  const [showPassword, setShowPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  // Initialize react-hook-form with zod resolver\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  })\n\n  // Handle form submission\n  const onSubmit = async (data: FormValues) => {\n    try {\n      setIsLoading(true)\n      console.log(\"Attempting login with:\", data)\n\n      const response = await axios.post(`${BACKEND_URL}/auth/login`, data, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n      })\n      console.log(\"Login response:\", response.data)\n\n      // Check if we got a valid response\n      if (response.data && response.data.success) {\n        const { access, refresh_token, user } = response.data.data\n\n        if (access && refresh_token) {\n          // Store tokens directly in localStorage first\n          localStorage.setItem('access', access)\n          localStorage.setItem('refresh_token', refresh_token)\n\n          // Then set session using the session manager\n          await sessionManager.setSession(access, refresh_token)\n          console.log(\"Session set:\", sessionManager.getSession())\n\n          // Determine redirect path based on user role\n          let redirectPath = \"/\"\n\n          // Check if user has roles and get the first role (assuming one role per user)\n          if (user?.roles?.length > 0) {\n            const userRole = user.roles[0].role_name.toUpperCase()\n            console.log(\"User role:\", userRole)\n\n            switch (userRole) {\n              case \"ADMIN\":\n                redirectPath = \"/admin/dashboard\"\n                break\n              case \"COORDINATOR\":\n                redirectPath = \"/coordinator/dashboard\"\n                break\n              case \"EVENT_ORGANIZER\":\n                redirectPath = \"/event-organizer/dashboard\"\n                break\n              default:\n                redirectPath = \"/\"\n                break\n            }\n          }\n\n          // Show success message and redirect\n          toast.success(\"Login successful! Redirecting...\")\n          router.push(redirectPath)\n          return\n        }\n\n        // If we get here, we have a response but no token\n        console.error(\"No access token in response:\", response.data)\n        throw new Error(\"Login successful but no access token received\")\n      }\n\n      // If we get here, the response was not successful\n      throw new Error(response.data?.message || \"Login failed\")\n    } catch (error) {\n      console.error(\"Login error:\", error)\n      if (axios.isAxiosError(error)) {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.response?.data?.error ||\n          error.response?.data?.data?.message ||\n          \"Login failed. Please check your credentials and try again.\"\n        toast.error(errorMessage)\n      } else if (error instanceof Error) {\n        toast.error(error.message)\n      } else {\n        toast.error(\"An unexpected error occurred. Please try again later.\")\n      }\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-[#F9F9F9] relative\">\n      {/* Back Button */}\n      <Link\n        href=\"/landing\"\n        className=\"absolute top-6 left-6 flex items-center text-[#0071bc] hover:text-[#005a96] transition-colors font-medium z-10\"\n      >\n        <ArrowLeft className=\"mr-1\" size={20} />\n        <span>Back</span>\n      </Link>\n\n      {/* Left side - Login Form */}\n      <div className=\"flex flex-col items-center justify-center w-full px-8 lg:w-1/2\">\n        <div className=\"w-full max-w-md mx-auto\">\n          {/* Logo */}\n          <div className=\"flex justify-center mb-12\">\n            <Image\n              src=\"/eac.jpeg\"\n              alt=\"Rwanda FutureSkills Forum Logo\"\n              width={240}\n              height={70}\n              priority\n              className=\"object-contain mx-auto\"\n            />\n          </div>\n\n          {/* Login Form */}\n          <div className=\"w-full mx-auto\">\n            <h1 className=\"text-3xl font-medium text-gray-900 mb-1 text-center\">Log in to your Account</h1>\n            <p className=\"text-gray-500 text-sm mb-8 text-center\">Fill in the form to continue</p>\n\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\">\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormControl>\n                        <Input\n                          type=\"email\"\n                          placeholder=\"Email\"\n                          className=\"px-4 py-2.5 h-auto border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage className=\"text-sm text-red-500\" />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"password\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormControl>\n                        <div className=\"relative\">\n                          <Input\n                            type={showPassword ? \"text\" : \"password\"}\n                            placeholder=\"Password\"\n                            className=\"px-4 py-2.5 h-auto pr-10 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                            {...field}\n                          />\n                          <button\n                            type=\"button\"\n                            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n                            onClick={() => setShowPassword(!showPassword)}\n                          >\n                            {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                          </button>\n                        </div>\n                      </FormControl>\n                      <FormMessage className=\"text-sm text-red-500\" />\n                    </FormItem>\n                  )}\n                />\n\n                <div>\n                  <Link href=\"/forgot\" className=\"text-sm text-gray-500 hover:text-blue-600\">\n                    Forgot password?\n                  </Link>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={isLoading}\n                  className=\"w-full py-3 bg-[#0071bc] hover:bg-[#005a96] text-white rounded-full font-medium transition-colors mx-auto disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isLoading ? \"Logging in...\" : \"Login\"}\n                </button>\n              </form>\n            </Form>\n          </div>\n        </div>\n      </div>\n\n      {/* Right side - Illustration */}\n      <div className=\"hidden lg:block lg:w-1/2\">\n        <div className=\"h-[90vh] w-[95%] relative mx-auto top-9\">\n          <Image src=\"/background_v1.svg\" alt=\"Smart City Illustration\" fill className=\"object-contain\" priority />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;;;;;;;AAiBA,kCAAkC;AAClC,MAAM,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1B,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACtB,SAAS;IACX;IACA,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAC1B,SAAS;IACX;AACF;AAIe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,+CAA+C;IAC/C,MAAM,OAAO,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAc;QAC/B,UAAU,CAAA,GAAA,iKAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YACb,OAAO;YACP,UAAU;QACZ;IACF;IAEA,yBAAyB;IACzB,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,aAAa;YACb,QAAQ,GAAG,CAAC,0BAA0B;YAEtC,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,gHAAA,CAAA,cAAW,CAAC,WAAW,CAAC,EAAE,MAAM;gBACnE,SAAS;oBACP,gBAAgB;oBAChB,QAAQ;gBACV;YACF;YACA,QAAQ,GAAG,CAAC,mBAAmB,SAAS,IAAI;YAE5C,mCAAmC;YACnC,IAAI,SAAS,IAAI,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;gBAC1C,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI,CAAC,IAAI;gBAE1D,IAAI,UAAU,eAAe;oBAC3B,8CAA8C;oBAC9C,aAAa,OAAO,CAAC,UAAU;oBAC/B,aAAa,OAAO,CAAC,iBAAiB;oBAEtC,6CAA6C;oBAC7C,MAAM,mHAAA,CAAA,iBAAc,CAAC,UAAU,CAAC,QAAQ;oBACxC,QAAQ,GAAG,CAAC,gBAAgB,mHAAA,CAAA,iBAAc,CAAC,UAAU;oBAErD,6CAA6C;oBAC7C,IAAI,eAAe;oBAEnB,8EAA8E;oBAC9E,IAAI,MAAM,OAAO,SAAS,GAAG;wBAC3B,MAAM,WAAW,KAAK,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW;wBACpD,QAAQ,GAAG,CAAC,cAAc;wBAE1B,OAAQ;4BACN,KAAK;gCACH,eAAe;gCACf;4BACF,KAAK;gCACH,eAAe;gCACf;4BACF,KAAK;gCACH,eAAe;gCACf;4BACF;gCACE,eAAe;gCACf;wBACJ;oBACF;oBAEA,oCAAoC;oBACpC,2IAAA,CAAA,QAAK,CAAC,OAAO,CAAC;oBACd,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,kDAAkD;gBAClD,QAAQ,KAAK,CAAC,gCAAgC,SAAS,IAAI;gBAC3D,MAAM,IAAI,MAAM;YAClB;YAEA,kDAAkD;YAClD,MAAM,IAAI,MAAM,SAAS,IAAI,EAAE,WAAW;QAC5C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;gBAC7B,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,MAAM,QAAQ,EAAE,MAAM,MAAM,WAC5B;gBACF,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACd,OAAO,IAAI,iBAAiB,OAAO;gBACjC,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO;YAC3B,OAAO;gBACL,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACd;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC,+JAAA,CAAA,UAAI;gBACH,MAAK;gBACL,WAAU;;kCAEV,6LAAC,mNAAA,CAAA,YAAS;wBAAC,WAAU;wBAAO,MAAM;;;;;;kCAClC,6LAAC;kCAAK;;;;;;;;;;;;0BAIR,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,QAAQ;gCACR,WAAU;;;;;;;;;;;sCAKd,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAsD;;;;;;8CACpE,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;8CAEtD,6LAAC,4HAAA,CAAA,OAAI;oCAAE,GAAG,IAAI;8CACZ,cAAA,6LAAC;wCAAK,UAAU,KAAK,YAAY,CAAC;wCAAW,WAAU;;0DACrD,6LAAC,4HAAA,CAAA,YAAS;gDACR,SAAS,KAAK,OAAO;gDACrB,MAAK;gDACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,4HAAA,CAAA,WAAQ;;0EACP,6LAAC,4HAAA,CAAA,cAAW;0EACV,cAAA,6LAAC,6HAAA,CAAA,QAAK;oEACJ,MAAK;oEACL,aAAY;oEACZ,WAAU;oEACT,GAAG,KAAK;;;;;;;;;;;0EAGb,6LAAC,4HAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;;;;;;;;;;;;0DAK7B,6LAAC,4HAAA,CAAA,YAAS;gDACR,SAAS,KAAK,OAAO;gDACrB,MAAK;gDACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,6LAAC,4HAAA,CAAA,WAAQ;;0EACP,6LAAC,4HAAA,CAAA,cAAW;0EACV,cAAA,6LAAC;oEAAI,WAAU;;sFACb,6LAAC,6HAAA,CAAA,QAAK;4EACJ,MAAM,eAAe,SAAS;4EAC9B,aAAY;4EACZ,WAAU;4EACT,GAAG,KAAK;;;;;;sFAEX,6LAAC;4EACC,MAAK;4EACL,WAAU;4EACV,SAAS,IAAM,gBAAgB,CAAC;sFAE/B,6BAAe,6LAAC,6MAAA,CAAA,SAAM;gFAAC,MAAM;;;;;uGAAS,6LAAC,mMAAA,CAAA,MAAG;gFAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;0EAIxD,6LAAC,4HAAA,CAAA,cAAW;gEAAC,WAAU;;;;;;;;;;;;;;;;;0DAK7B,6LAAC;0DACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;oDAAC,MAAK;oDAAU,WAAU;8DAA4C;;;;;;;;;;;0DAK7E,6LAAC;gDACC,MAAK;gDACL,UAAU;gDACV,WAAU;0DAET,YAAY,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS3C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBAAC,KAAI;wBAAqB,KAAI;wBAA0B,IAAI;wBAAC,WAAU;wBAAiB,QAAQ;;;;;;;;;;;;;;;;;;;;;;AAKhH;GA1MwB;;QAGP,qIAAA,CAAA,YAAS;QAGX,iKAAA,CAAA,UAAO;;;KANE","debugId":null}}]
}